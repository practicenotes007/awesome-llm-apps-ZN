# ğŸ“‹ æ•™ç¨‹6ï¼šå›è°ƒå‡½æ•°

## ğŸ¯ æ‚¨å°†å­¦åˆ°ä»€ä¹ˆ
- **ä»£ç†ç”Ÿå‘½å‘¨æœŸå›è°ƒ**ï¼šç›‘æ§ä»£ç†åˆ›å»ºã€åˆå§‹åŒ–å’Œæ¸…ç†
- **LLMäº¤äº’å›è°ƒ**ï¼šè·Ÿè¸ªæ¨¡å‹è¯·æ±‚ã€å“åº”å’Œä»¤ç‰Œä½¿ç”¨
- **å·¥å…·æ‰§è¡Œå›è°ƒ**ï¼šç›‘æ§å·¥å…·è°ƒç”¨ã€å‚æ•°å’Œç»“æœ

## ğŸ’¡ æ ¸å¿ƒæ¦‚å¿µï¼šå›è°ƒå‡½æ•°

å›è°ƒå‡½æ•°æ˜¯åœ¨ä»£ç†æ‰§è¡Œè¿‡ç¨‹ä¸­ç‰¹å®šç‚¹æ‰§è¡Œçš„å‡½æ•°ï¼Œå…è®¸æ‚¨åœ¨ä¸ä¿®æ”¹æ ¸å¿ƒé€»è¾‘çš„æƒ…å†µä¸‹ç›‘æ§ã€è®°å½•å’Œæ§åˆ¶ä»£ç†çš„è¡Œä¸ºã€‚

### **å›è°ƒæµç¨‹å›¾**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ä»£ç†å¼€å§‹      â”‚â”€â”€â”€â–¶â”‚  LLMè¯·æ±‚        â”‚â”€â”€â”€â–¶â”‚  å·¥å…·æ‰§è¡Œ       â”‚
â”‚   å›è°ƒ          â”‚    â”‚   å›è°ƒ          â”‚    â”‚   å›è°ƒ          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â–¼                       â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä»£ç†ç»“æŸ       â”‚    â”‚  LLMå“åº”        â”‚    â”‚  å·¥å…·ç»“æœ       â”‚
â”‚  å›è°ƒ           â”‚    â”‚   å›è°ƒ          â”‚    â”‚   å›è°ƒ          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **ä¸ºä»€ä¹ˆä½¿ç”¨å›è°ƒï¼Ÿ**
- **ç›‘æ§**ï¼šè·Ÿè¸ªä»£ç†æ€§èƒ½å’Œè¡Œä¸º
- **æ—¥å¿—è®°å½•**ï¼šè®°å½•äº¤äº’ä»¥è¿›è¡Œè°ƒè¯•å’Œåˆ†æ
- **æ§åˆ¶**ï¼šæ ¹æ®ç‰¹å®šäº‹ä»¶ä¿®æ”¹è¡Œä¸º
- **é›†æˆ**ï¼šå°†ä»£ç†è¿æ¥åˆ°å¤–éƒ¨ç³»ç»Ÿ
- **è°ƒè¯•**ï¼šäº†è§£ä»£ç†å†…éƒ¨å‘ç”Ÿçš„æƒ…å†µ

## ğŸ“– æ•™ç¨‹æ¦‚è¿°

æœ¬æ•™ç¨‹æ¶µç›–äº†Google ADKä¸­çš„ä¸‰ç§åŸºæœ¬å›è°ƒæ¨¡å¼ï¼š

1. **ä»£ç†ç”Ÿå‘½å‘¨æœŸå›è°ƒ**ï¼šç›‘æ§ä»£ç†åˆ›å»ºã€åˆå§‹åŒ–å’Œæ¸…ç†äº‹ä»¶
2. **LLMäº¤äº’å›è°ƒ**ï¼šè·Ÿè¸ªæ¨¡å‹è¯·æ±‚ã€å“åº”å’Œä»¤ç‰Œä½¿ç”¨
3. **å·¥å…·æ‰§è¡Œå›è°ƒ**ï¼šç›‘æ§å·¥å…·è°ƒç”¨ã€å‚æ•°å’Œæ‰§è¡Œç»“æœ

æ¯ä¸ªå­æ•™ç¨‹éƒ½æä¾›äº†ç®€å•ã€é›†ä¸­çš„ç¤ºä¾‹ï¼Œæ¼”ç¤ºç‰¹å®šçš„å›è°ƒæ¨¡å¼ã€‚

## ğŸ“ é¡¹ç›®ç»“æ„

```
6_callbacks/
â”œâ”€â”€ README.md                           # æœ¬æ–‡ä»¶ - æ¦‚å¿µè§£é‡Š
â”œâ”€â”€ 6_1_agent_lifecycle_callbacks/      # ä»£ç†ç”Ÿå‘½å‘¨æœŸç›‘æ§
â”‚   â”œâ”€â”€ README.md                       # ç”Ÿå‘½å‘¨æœŸå›è°ƒæ¨¡å¼
â”‚   â”œâ”€â”€ agent.py                        # å¸¦ç”Ÿå‘½å‘¨æœŸå›è°ƒçš„ä»£ç†
â”‚   â”œâ”€â”€ app.py                          # Streamlitç•Œé¢
â”‚   â””â”€â”€ requirements.txt                # ä¾èµ–é¡¹
â”œâ”€â”€ 6_2_llm_interaction_callbacks/      # LLMè¯·æ±‚/å“åº”è·Ÿè¸ª
â”‚   â”œâ”€â”€ README.md                       # LLMå›è°ƒæ¨¡å¼
â”‚   â”œâ”€â”€ agent.py                        # å¸¦LLMå›è°ƒçš„ä»£ç†
â”‚   â”œâ”€â”€ app.py                          # Streamlitç•Œé¢
â”‚   â””â”€â”€ requirements.txt                # ä¾èµ–é¡¹
â””â”€â”€ 6_3_tool_execution_callbacks/       # å·¥å…·æ‰§è¡Œç›‘æ§
    â”œâ”€â”€ README.md                       # å·¥å…·å›è°ƒæ¨¡å¼
    â”œâ”€â”€ agent.py                        # å¸¦å·¥å…·å›è°ƒçš„ä»£ç†
    â”œâ”€â”€ app.py                          # Streamlitç•Œé¢
    â””â”€â”€ requirements.txt                # ä¾èµ–é¡¹
```

## ğŸ¯ å­¦ä¹ ç›®æ ‡

å®Œæˆæœ¬æ•™ç¨‹åï¼Œæ‚¨å°†ç†è§£ï¼š

- âœ… **å›è°ƒåŸºç¡€**ï¼šå›è°ƒåœ¨Google ADKä¸­å¦‚ä½•å·¥ä½œ
- âœ… **ç”Ÿå‘½å‘¨æœŸç›‘æ§**ï¼šè·Ÿè¸ªä»£ç†åˆ›å»ºã€åˆå§‹åŒ–å’Œæ¸…ç†
- âœ… **LLMè·Ÿè¸ª**ï¼šç›‘æ§æ¨¡å‹è¯·æ±‚ã€å“åº”å’Œæ€§èƒ½
- âœ… **å·¥å…·ç›‘æ§**ï¼šè·Ÿè¸ªå·¥å…·æ‰§è¡Œå’Œç»“æœ
- âœ… **å®é™…åº”ç”¨**ï¼šå›è°ƒçš„å®é™…ç”¨ä¾‹
- âœ… **è°ƒè¯•æŠ€æœ¯**ï¼šä½¿ç”¨å›è°ƒè¿›è¡Œæ•…éšœæ’é™¤

## ğŸš€ å¼€å§‹ä½¿ç”¨

### **å…ˆå†³æ¡ä»¶**
- Python 3.11+
- Google AI Studio APIå¯†é’¥
- Google ADKåŸºç¡€çŸ¥è¯†ï¼ˆæ•™ç¨‹1-5ï¼‰

### **è®¾ç½®**
1. **è·å–APIå¯†é’¥**ï¼šè®¿é—®[Google AI Studio](https://aistudio.google.com/)
2. **åˆ›å»º.envæ–‡ä»¶**ï¼šæ·»åŠ `GOOGLE_API_KEY=your_key_here`
3. **å®‰è£…ä¾èµ–é¡¹**ï¼š`pip install -r requirements.txt`

### **è¿è¡Œæ•™ç¨‹**
```bash
# ä»£ç†ç”Ÿå‘½å‘¨æœŸå›è°ƒ
cd 6_1_agent_lifecycle_callbacks
streamlit run app.py

# LLMäº¤äº’å›è°ƒ  
cd ../6_2_llm_interaction_callbacks
streamlit run app.py

# å·¥å…·æ‰§è¡Œå›è°ƒ
cd ../6_3_tool_execution_callbacks
streamlit run app.py
```

## âš™ï¸ å›è°ƒæ¨¡å¼

### **1. ä»£ç†ç”Ÿå‘½å‘¨æœŸå›è°ƒ**
```python
def on_agent_start(agent_name: str):
    print(f"â–¶ï¸ ä»£ç† {agent_name} å·²å¯åŠ¨")

def on_agent_end(agent_name: str, result: str):
    print(f"âœ… ä»£ç† {agent_name} å·²å®Œæˆ: {result}")

# æ³¨å†Œå›è°ƒ
agent = LlmAgent(
    name="my_agent",
    model="gemini-2.5-flash",
    on_start=on_agent_start,
    on_end=on_agent_end
)
```

### **2. LLMäº¤äº’å›è°ƒ**
```python
def on_llm_request(model: str, prompt: str):
    print(f"ğŸ“¤ LLMè¯·æ±‚åˆ° {model}: {prompt[:50]}...")

def on_llm_response(model: str, response: str, tokens: int):
    print(f"ğŸ“¥ LLMå“åº”æ¥è‡ª {model}: {tokens} ä¸ªä»¤ç‰Œ")

# æ³¨å†Œå›è°ƒ
agent = LlmAgent(
    name="my_agent",
    model="gemini-2.5-flash",
    on_llm_request=on_llm_request,
    on_llm_response=on_llm_response
)
```

### **3. å·¥å…·æ‰§è¡Œå›è°ƒ**
```python
def on_tool_start(tool_name: str, params: dict):
    print(f"ğŸ”§ å·¥å…· {tool_name} å·²å¯åŠ¨ï¼Œå‚æ•°: {params}")

def on_tool_end(tool_name: str, result: str):
    print(f"âœ… å·¥å…· {tool_name} å·²å®Œæˆ: {result}")

# æ³¨å†Œå›è°ƒ
agent = LlmAgent(
    name="my_agent",
    model="gemini-2.5-flash",
    tools=[my_tool],
    on_tool_start=on_tool_start,
    on_tool_end=on_tool_end
)
```

## ğŸ“Š ä½¿ç”¨åœºæ™¯

### **ç›‘æ§å’Œåˆ†æ**
- è·Ÿè¸ªä»£ç†æ€§èƒ½æŒ‡æ ‡
- ç›‘æ§ä»¤ç‰Œä½¿ç”¨å’Œæˆæœ¬
- åˆ†æå·¥å…·ä½¿ç”¨æ¨¡å¼
- è°ƒè¯•ä»£ç†è¡Œä¸º

### **æ—¥å¿—è®°å½•å’Œè°ƒè¯•**
- è®°å½•æ‰€æœ‰ä»£ç†äº¤äº’
- è°ƒè¯•å·¥å…·æ‰§è¡Œé—®é¢˜
- ç›‘æ§LLMå“åº”è´¨é‡
- è·Ÿè¸ªé”™è¯¯æ¨¡å¼

### **é›†æˆå’Œæ§åˆ¶**
- è¿æ¥åˆ°å¤–éƒ¨ç›‘æ§ç³»ç»Ÿ
- å®ç°è‡ªå®šä¹‰é”™è¯¯å¤„ç†
- æ·»åŠ èº«ä»½éªŒè¯å’ŒéªŒè¯
- åŠ¨æ€æ§åˆ¶ä»£ç†è¡Œä¸º

## ğŸ”— ä¸‹ä¸€æ­¥

å®Œæˆæœ¬æ•™ç¨‹åï¼Œæ‚¨å¯ä»¥ç»§ç»­ï¼š

- **[é«˜çº§ä»£ç†æ¨¡å¼](../advanced_patterns/README.md)** - å¤æ‚ä»£ç†æ¶æ„
- **[ç”Ÿäº§éƒ¨ç½²](../deployment/README.md)** - å°†ä»£ç†éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ
- **[è‡ªå®šä¹‰å·¥å…·](../custom_tools/README.md)** - æ„å»ºè‡ªå®šä¹‰å·¥å…·å’Œé›†æˆ

## ğŸ“š é™„åŠ èµ„æº

- [Google ADKæ–‡æ¡£](https://google.github.io/adk-docs/)
- [å›è°ƒAPIå‚è€ƒ](https://google.github.io/adk-docs/api-reference/python/)
- [æœ€ä½³å®è·µæŒ‡å—](https://google.github.io/adk-docs/best-practices/)