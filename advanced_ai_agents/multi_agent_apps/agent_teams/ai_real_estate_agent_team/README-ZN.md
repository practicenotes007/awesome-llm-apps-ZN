# 🏠 AI房地产代理团队

**AI房地产代理团队**是一个由专业AI代理和firecrawl提取端点驱动的复杂房产搜索和分析平台。该应用程序使用先进的网络爬虫和AI驱动的搜索功能，提供全面的房地产见解、市场分析和房产推荐。

## 功能特性

- **多代理分析系统**
    - **房产搜索代理**：使用Firecrawl提取+Perplexity回退查找房产
    - **市场分析代理**：提供详细的市场趋势和社区见解
    - **房产估价代理**：提供全面的房产估价和投资分析

- **多平台房产搜索**：
  - **Zillow**：最大的房地产市场，提供全面的房源列表
  - **Realtor.com**：美国房地产经纪人协会官方网站
  - **Trulia**：以社区为中心的房地产搜索
  - **Homes.com**：全面的房产搜索平台
  - **Perplexity AI**：跨多个来源的AI驱动搜索作为回退

- **高级房产分析**：
  - 详细的房产信息提取（地址、价格、卧室、浴室、平方英尺）
  - 房产特色和设施分析
  - 房源URL和经纪人联系信息
  - 可点击的房产链接便于导航

- **全面的市场洞察**：
  - 当前市场状况（买方/卖方市场）
  - 6-12个月的价格趋势
  - 社区分析，包括学区和安全评级
  - 投资潜力评估和投资回报率预测
  - 比较市场分析

- **智能回退系统**：
  - 主要：Firecrawl提取端点用于结构化数据
  - 回退：当提取无结果时使用Google搜索
  - 数据源之间的无缝转换
  - 使用网络搜索时的Google搜索指示器

- **交互式用户界面功能**：
  - 实时代理进度跟踪
  - 每个搜索阶段的进度指示器
  - 可下载的分析报告
  - 用于性能监控的时间信息

## 如何运行

按照以下步骤设置和运行应用程序：

### 1. **获取API密钥**：
   - **OpenAI API密钥**：从[OpenAI平台](https://platform.openai.com/api-keys)获取
   - **Firecrawl API密钥**：从[Firecrawl](https://firecrawl.dev)获取
   - **Google搜索**：无需API密钥 - 使用Agno的GoogleSearchTools

### 2. **克隆仓库**：
   ```bash
   git clone https://github.com/your-username/awesome-llm-apps.git
   cd awesome-llm-apps/advanced_ai_agents/multi_agent_apps/ai_real_estate_agent_team
   ```

### 3. **设置环境变量**：
   在项目根目录创建一个`.env`文件并添加您的API密钥：
   ```
   OPENAI_API_KEY=your_openai_api_key_here
   FIRECRAWL_API_KEY=your_firecrawl_api_key_here
   ```
   **Google搜索自动包含** - 回退搜索功能无需API密钥。

### 4. **安装依赖**：
   ```bash
   pip install -r requirements.txt
   ```

### 5. **运行Streamlit应用**：
   ```bash
   streamlit run real_estate_agent_team.py
   ```

## 使用指南

### 1. **配置（侧边栏）**：
   - 输入您的API密钥（或使用环境变量）
   - 选择要搜索的房地产网站
   - 查看3代理工作流程说明

### 2. **房产要求**：
   - **位置**：城市和州/省
   - **预算**：最低和最高价格范围
   - **房产详情**：类型、卧室、浴室、最小平方英尺
   - **特殊功能**：停车位、院子、景观、靠近便利设施
   - **时间安排和紧急程度**：您需要多快搬入

### 3. **分析过程**：
   - **搜索阶段**：从选定网站提取房产数据
   - **代理分析**：三个专业代理提供见解
   - **结果**：包含可点击房产链接的综合报告

### 4. **理解结果**：
   - **房产搜索代理**：列出找到的房产及其详情
   - **市场分析代理**：提供市场趋势和社区见解
   - **房产估价代理**：提供投资分析和估价
   - **房产链接**：指向原始房源的可点击URL

## 代理工作流程

### **房产搜索代理**
- 使用Firecrawl提取工具搜索房地产网站
- 专注于匹配用户标准的房产
- 如果未找到房产则回退到Perplexity搜索
- 组织结果并提供可点击的房源URL

### **市场分析代理**
- **市场趋势**：当前状况、价格趋势、库存水平
- **社区分析**：学校、安全、便利设施、交通
- **投资见解**：潜力评估、租赁数据、发展计划
- **比较分析**：市场比较和独特优势

### **房产估价代理**
- **房产估价**：公允市场价值及详细推理
- **定价评估**：高/低定价分析及策略
- **投资分析**：投资回报率预测和风险评估
- **特色评估**：详细的房产分析和改进建议
- **市场定位**：竞争分析和目标画像

## 技术架构

### **数据源**：
- **Firecrawl提取API**：结构化房产数据提取
- **Perplexity AI**：跨多个来源的AI驱动搜索
- **Pydantic模式**：结构化数据验证和格式化

### **AI框架**：
- **Agno框架**：多代理协调和通信
- **OpenAI GPT-4**：用于分析的高级语言模型
- **Streamlit**：交互式Web应用程序界面

### **性能功能**：
- **速率限制**：通过智能延迟防止API过载
- **进度跟踪**：分析进度的实时更新
- **超时处理**：3分钟代理超时防止挂起
- **错误恢复**：主要方法失败时的优雅回退

## 文件结构

```
ai_real_estate_agent_team/
├── real_estate_agent_team.py   # 主应用程序文件
├── requirements.txt            # Python依赖
├── README.md                   # 本文档
└── .env                        # 环境变量（创建此文件）
```

## API要求

### **OpenAI API**
- **模型**：GPT-4o
- **用途**：多代理分析和房产见解
- **速率限制**：适用标准OpenAI速率限制

### **Firecrawl API**
- **端点**：用于结构化数据的提取API
- **用途**：从房地产网站提取房源列表
- **速率限制**：Firecrawl标准速率限制

### **Google搜索**
- **工具**：Agno GoogleSearchTools
- **用途**：房源列表回退的网络搜索
- **速率限制**：Google搜索标准速率限制

## 故障排除

### **常见问题**：

1. **"未找到房产"**：
   - 对于特定标准这是正常的
   - Perplexity回退将提供市场见解
   - 尝试扩大搜索标准

2. **API密钥错误**：
   - 确保所有API密钥有效且有足够额度
   - 检查环境变量是否正确设置
   - 验证API密钥权限

3. **性能缓慢**：
   - 减少选定的网站数量
   - 简化房产标准
   - 检查网络连接

4. **代理超时**：
   - 简化搜索标准
   - 减少网站数量
   - 尝试使用不同参数

### **性能提示**：
- 开始时使用1-2个网站进行测试
- 使用具体但不过于严格的条件
- 监控时间信息以进行优化